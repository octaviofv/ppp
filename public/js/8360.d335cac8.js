"use strict";(self["webpackChunkweweb_front"]=self["webpackChunkweweb_front"]||[]).push([[8360],{1803:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(641),s=n(33);function r(e,t,n,r,o,a){const l=(0,i.g2)("wwElement",!0),c=(0,i.g2)("wwText");return(0,i.uX)(),(0,i.Wv)((0,i.$y)(a.tag),(0,i.v6)({class:["ww-button",{button:a.tag,"-link":r.hasLink&&!a.isEditing}],type:a.buttonType,style:a.buttonStyle,"data-ww-flag":"btn-"+n.content.buttonType,disabled:n.content.disabled},r.properties,{onFocus:t[0]||(t[0]=e=>o.isReallyFocused=!0),onBlur:t[1]||(t[1]=e=>a.onBlur(e))}),{default:(0,i.k6)((()=>[n.content.hasLeftIcon&&n.content.leftIcon?((0,i.uX)(),(0,i.Wv)(l,(0,s._B)((0,i.v6)({key:0},n.content.leftIcon)),null,16)):(0,i.Q3)("",!0),(0,i.bF)(c,{tag:"span",text:a.text},null,8,["text"]),n.content.hasRightIcon&&n.content.rightIcon?((0,i.uX)(),(0,i.Wv)(l,(0,s._B)((0,i.v6)({key:1},n.content.rightIcon)),null,16)):(0,i.Q3)("",!0)])),_:1},16,["class","type","style","data-ww-flag","disabled"])}const o={center:"center",right:"flex-end",left:"flex-start",justify:"center"},a={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content","update:content:effect","change-menu-visibility","change-borders-style","add-state","remove-state","trigger-event"],setup(e){const{hasLink:t,tag:n,properties:s}=wwLib.wwElement.useLink({isDisabled:(0,i.EW)((()=>e.content.disabled))});return{hasLink:t,linkTag:n,properties:s}},data(){return{isReallyFocused:!1}},computed:{buttonStyle(){return{justifyContent:o[this.content["_ww-text_textAlign"]]||"center"}},isEditing(){return!1},tag(){return this.isEditing?"div":this.hasLink?this.linkTag:"submit"===this.content.buttonType||"reset"===this.content.buttonType||"button"===this.content.buttonType?"button":"div"},buttonType(){return this.isEditing||this.hasLink?"":"submit"===this.content.buttonType||"reset"===this.content.buttonType||"button"===this.content.buttonType?this.content.buttonType:""},text(){return this.wwElementState.props.text},isFocused(){return this.isReallyFocused}},watch:{"content.disabled":{immediate:!0,handler(e){e?this.$emit("add-state","disabled"):this.$emit("remove-state","disabled")}},isReallyFocused(e,t){e&&!t?this.$emit("trigger-event",{name:"focus"}):!e&&t&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}}},methods:{onBlur(){this.isReallyFocused=!1}}};var l=n(6262);const c=(0,l.A)(a,[["render",r],["__scopeId","data-v-1cc6eeab"]]),u=c},3100:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(641),s=n(33),r=n(3751);const o=["name","autocomplete"];function a(e,t,n,a,l,c){const u=(0,i.g2)("wwLayout");return(0,i.uX)(),(0,i.CE)("form",{name:c.formName,autocomplete:n.content.autocomplete,class:(0,s.C4)(["ww-form-container",{editing:c.isEditing,selected:c.isSelected}]),"data-ww-flag":"form-container",onSubmit:t[0]||(t[0]=(0,r.D$)(((...e)=>c.onSubmit&&c.onSubmit(...e)),["prevent"]))},[(0,i.bF)(u,{class:"ww-form-container__content",path:"formContent","ww-responsive":"wwLayout"})],42,o)}const l={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event"],computed:{formName(){return this.wwElementState.name},isEditing(){return!1},isSelected(){return!1}},methods:{async onSubmit(){this.$emit("trigger-event",{name:"submit"})}}};var c=n(6262);const u=(0,c.A)(l,[["render",a],["__scopeId","data-v-99bfa12c"]]),d=u},3611:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(641),s=n(33);const r=["id","value","type","name","readonly","required","autocomplete","placeholder","min","max","step"],o=["id","value","type","name","readonly","required","placeholder","rows"];function a(e,t,n,a,l,c){const u=(0,i.g2)("wwElement",!0);return(0,i.uX)(),(0,i.CE)("div",(0,i.v6)({class:["ww-input-basic",{editing:c.isEditing}]},c.rootBinding),["textarea"!==n.content.type?((0,i.uX)(),(0,i.CE)("input",(0,i.v6)({id:e.$attrs.id,key:"ww-input-basic-"+a.step,ref:"input"},c.inputBinding,{value:c.value,class:["ww-input-basic__input",[{hideArrows:n.content.hideArrows&&"number"===c.inputType,"date-placeholder":"date"===n.content.type&&!c.value,"-readonly":c.isReadonly},e.$attrs.class]],type:c.inputType,name:n.wwElementState.name,readonly:c.isReadonly,required:n.content.required,autocomplete:n.content.autocomplete?"on":"off",placeholder:c.isAdvancedPlaceholder?"":e.wwLang.getText(n.content.placeholder),style:c.style,min:c.min,max:c.max,step:c.stepAttribute,onInput:t[0]||(t[0]=e=>c.handleManualInput(e)),onBlur:t[1]||(t[1]=e=>c.onBlur(e)),onFocus:t[2]||(t[2]=e=>l.isReallyFocused=!0)}),null,16,r)):((0,i.uX)(),(0,i.CE)("textarea",(0,i.v6)({key:1,ref:"input",id:e.$attrs.id},c.inputBinding,{value:c.value,class:["ww-input-basic__input",e.$attrs.class],type:n.content.type,name:n.wwElementState.name,readonly:c.isReadonly,required:n.content.required,placeholder:c.isAdvancedPlaceholder?"":e.wwLang.getText(n.content.placeholder),style:[c.style,{resize:n.content.resize?"":"none"}],rows:n.content.rows,onInput:t[3]||(t[3]=e=>c.handleManualInput(e)),onFocus:t[4]||(t[4]=e=>l.isReallyFocused=!0),onBlur:t[5]||(t[5]=e=>l.isReallyFocused=!1)}),null,16,o)),c.isAdvancedPlaceholder?((0,i.uX)(),(0,i.CE)("div",{key:2,ref:"placeholder",class:"ww-input-basic__placeholder",style:(0,s.Tr)(c.placeholderSyle),onClick:t[6]||(t[6]=(...e)=>c.focusInput&&c.focusInput(...e))},[(0,i.bF)(u,(0,i.v6)({style:{pointerevents:"none"}},n.content.placeholderElement,{states:0===c.value||c.value&&c.value.length?["active"]:[],"ww-props":{text:e.wwLang.getText(n.content.placeholder)}}),null,16,["states","ww-props"])],4)):(0,i.Q3)("",!0)],16)}var l=n(953);const c=["padding","border","borderLeft","borderRight","borderTop","borderBottom","borderRadius","background","boxShadow","cursor"],u={inheritAttrs:!1,props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","add-state","remove-state","update:content:effect"],setup(e){const t=(0,i.EW)((()=>Object.keys(e.wwElementState.props).includes("type")?e.wwElementState.props.type:e.content.type)),n=(0,i.EW)((()=>["decimal","number"].includes(t.value)?e.content.step:"time"===t.value&&e.content.timePrecision||1));function s(n){if("decimal"!==t.value)return n;if(!n&&0!==n)return"";n=`${n}`.replace(",",".");const i=-1!==n.indexOf(".")?e.content.precision.split(".")[1].length:0,s=parseFloat(Number(n).toFixed(i).replace(",","."));return s}const{value:r,setValue:o}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:(0,i.EW)((()=>["decimal","number"].includes(t.value)?"number":"string")),defaultValue:(0,i.EW)((()=>void 0===e.content.value?"":s(e.content.value)))}),a=(0,l.KR)("input"),c=(0,i.WQ)("componentState",{});return{variableValue:r,setValue:o,formatValue:s,step:n,type:t,inputRef:a,state:c}},data(){return{paddingLeft:"0px",placeholderPosition:{top:"0px",left:"0px"},isReallyFocused:!1,noTransition:!1,isMounted:!1,isDebouncing:!1}},computed:{isEditing(){return!1},value(){return this.variableValue},delay(){return wwLib.wwUtils.getLengthUnit(this.content.debounceDelay)[0]},placeholderSyle(){const e=`all ${this.noTransition?"0ms":this.content.transition} ${this.content.timingFunction}`,t="outside"===this.content.placeholderPosition?{top:"-"+this.content.positioningAjustment,left:this.placeholderPosition.left,transform:`translate3d(0, -100%, 0) scale(${this.content.placeholderScaling})`,transformOrigin:"left",transition:e}:{top:this.content.positioningAjustment,left:this.placeholderPosition.left,transform:`translate3d(0, 0%, 0) scale(${this.content.placeholderScaling})`,transformOrigin:"left",transition:e};return this.content.forceAnimation&&this.isEditing||this.value||0===this.value?t:(t.cursor=this.$attrs?.style?.cursor||"text",this.isDebouncing||"focus"===this.content.animationTrigger&&this.isFocused?t:{top:this.placeholderPosition.top,left:this.placeholderPosition.left,userSelect:"none",transform:"translate3d(0, 0%, 0) scale(1)",transformOrigin:"left",transition:e,cursor:this.$attrs?.style?.cursor||"text"})},rootBinding(){const e={...this.$attrs.style||{}};c.forEach((t=>{delete e[t]}));let t={};for(const i in this.$attrs)(this.state?.attributes||[]).some((e=>e.name===i))||(t[i]=this.$attrs[i]);const n={...t,style:e};return delete n.id,delete n.class,n},inputBinding(){let e=(this.state?.attributes||[]).reduce(((e,t)=>(e[t.name]=t.value,e)),{});return{...e,...this.wwElementState.props.attributes||{}}},style(){const e={...wwLib.wwUtils.getTextStyleFromContent(this.content),"--placeholder-color":this.content.placeholderColor};return delete e["whiteSpaceCollapse"],delete e["whiteSpace"],c.forEach((t=>{this.$attrs?.style?.[t]&&(e[t]=this.$attrs?.style?.[t])})),e},inputType(){return this.content?"password"===this.content.type?this.content.displayPassword?"text":"password":"decimal"===this.content.type?"number":this.content.type:"text"},isReadonly(){return void 0===this.wwElementState.props.readonly?this.content.readonly:this.wwElementState.props.readonly},isFocused(){return this.isReallyFocused},isAdvancedPlaceholder(){return this.content.advancedPlaceholder},stepAttribute(){return this.isFocused||"number"!==this.inputType?this.step:"any"},min(){return"date"===this.type?this.content.minDate:this.content.min},max(){return"date"===this.type?this.content.maxDate:this.content.max}},watch:{"content.value"(e){"decimal"===this.type&&(e=this.formatValue(e)),e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly"),this.$nextTick((()=>{this.handleObserver()}))}},"content.timePrecision"(e){"string"===typeof this.value&&(3600===e?this.setValue(this.value.slice(0,2)):60===e?this.setValue(this.value.slice(0,5)):1===e&&this.setValue(this.value.slice(0,8)))},"content.type"(){this.$nextTick((()=>{this.handleObserver()}))},inputRef(){this.$nextTick((()=>{this.handleObserver()}))},isReallyFocused(e,t){e&&!t?this.$emit("trigger-event",{name:"focus"}):!e&&t&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}},"content.advancedPlaceholder":{async handler(e){this.$nextTick((()=>{this.handleObserver()}))}}},beforeUnmount(){this.resizeObserverContent&&this.resizeObserverContent.disconnect(),this.resizeObserverBorder&&this.resizeObserverBorder.disconnect(),wwLib.getFrontDocument().removeEventListener("keyup",this.onKeyEnter)},mounted(){this.isMounted=!0,this.handleObserver(),wwLib.getFrontDocument().addEventListener("keyup",this.onKeyEnter),this.value!==this.$refs.input.value&&(this.$refs.input.value=this.value)},methods:{handleManualInput(e){const t=e.target.value;let n;if("number"!==this.inputType||"."!==e.data&&","!==e.data||""!==t){if("number"===this.inputType&&(0===t||t&&t.length))try{n=parseFloat(t)}catch(i){n=t}else n=t;n!==this.value&&(this.setValue(n),this.content.debounce?(this.isDebouncing=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:n}}),this.isDebouncing=!1}),this.delay)):this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:n}}))}},onKeyEnter(e){"Enter"===e.key&&this.isReallyFocused&&this.$emit("trigger-event",{name:"onEnterKey",event:{value:this.value}})},onBlur(e){this.correctDecimalValue(e),this.isReallyFocused=!1},correctDecimalValue(e){if("decimal"===this.content.type){const t=this.formatValue(this.value);if(t===this.value)return;this.setValue(t),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}})}},handleObserver(){if(!this.isMounted)return;this.resizeObserverContent&&this.resizeObserverContent.disconnect(),this.resizeObserverBorder&&this.resizeObserverBorder.disconnect();const e=this.$refs.input;e&&(this.resizeObserverContent=new ResizeObserver((()=>{this.updatePosition(e)})),this.resizeObserverBorder=new ResizeObserver((()=>{this.updatePosition(e)})),this.resizeObserverContent.observe(e,{box:"content-box"}),this.resizeObserverBorder.observe(e,{box:"border-box"}))},updatePosition(e){const t=this.$refs.placeholder;if(!e||!t)return;this.noTransition=!0;const n="textarea"===this.content.type?wwLib.wwUtils.getLengthUnit(e.style.paddingTop)[0]:e.clientHeight/2-t.clientHeight/2;this.placeholderPosition.top=n+"px",this.placeholderPosition.left=e.style.paddingLeft,setTimeout((()=>{this.noTransition=!1}),wwLib.wwUtils.getLengthUnit(this.content.transition)[0])},focusInput(){if(this.isReadonly)return;const e=this.$refs.input;e&&e.focus()}}};var d=n(6262);const h=(0,d.A)(u,[["render",a],["__scopeId","data-v-43f78fa2"]]),p=h}}]);