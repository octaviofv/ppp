"use strict";(self["webpackChunkweweb_front"]=self["webpackChunkweweb_front"]||[]).push([[7500],{1236:(t,e,n)=>{n.d(e,{A:()=>c});var a=n(641);function s(t,e,n,s,r,i){const o=(0,a.g2)("wwLayout");return(0,a.uX)(),(0,a.Wv)(o,{path:"wwObjects",class:"section-base"})}const r={props:{content:{type:Object,required:!0}}};var i=n(6262);const o=(0,i.A)(r,[["render",s],["__scopeId","data-v-550ba954"]]),c=o},2256:(t,e,n)=>{n.d(e,{A:()=>l});var a=n(641),s=n(33);function r(t,e,n,r,i,o){return(0,a.uX)(),(0,a.Wv)((0,a.$y)(r.tag),(0,a.v6)(r.properties,{class:["ww-icon",{"-link":r.hasLink&&!o.isEditing}],style:o.style}),{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:(0,s.C4)([n.content.icon]),"aria-hidden":"true"},null,2)])),_:1},16,["style","class"])}const i={props:{content:{type:Object,required:!0}},setup(){const{hasLink:t,properties:e,tag:n}=wwLib.wwElement.useLink();return{hasLink:t,properties:e,tag:n}},computed:{style(){return{color:this.content.color,fontSize:`${this.content.fontSize}px`}},isEditing(){return!1}}};var o=n(6262);const c=(0,o.A)(i,[["render",r],["__scopeId","data-v-cc81db6c"]]),l=c},2706:(t,e,n)=>{n.d(e,{A:()=>c});var a=n(641);function s(t,e,n,s,r,i){const o=(0,a.g2)("wwSimpleLayout"),c=(0,a.g2)("wwBackgroundVideo"),l=(0,a.g2)("wwElement",!0),d=(0,a.g2)("wwLayout");return i.noDropzone?((0,a.uX)(),(0,a.Wv)(o,(0,a.v6)({key:0,tag:s.tag,class:"ww-flexbox","ww-responsive":"wwLayoutSlot"},s.properties,{class:{"-link":s.hasLink&&!i.isEditing}}),{default:(0,a.k6)((()=>[(0,a.RG)(t.$slots,"default",{},void 0,!0)])),_:3},16,["tag","class"])):((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:1,class:"ww-flexbox",path:"children",direction:n.content.direction,"disable-edit":i.isFixed,"ww-responsive":"wwLayout",tag:s.tag},s.properties,{class:{"-link":s.hasLink&&!i.isEditing}}),{header:(0,a.k6)((()=>[s.backgroundVideo?((0,a.uX)(),(0,a.Wv)(c,{key:0,video:s.backgroundVideo},null,8,["video"])):(0,a.Q3)("",!0),i.noDropzone?(0,a.Q3)("",!0):(0,a.RG)(t.$slots,"default",{key:1},void 0,!0)])),default:(0,a.k6)((({item:t,index:e,itemStyle:n})=>[(0,a.bF)(l,(0,a.v6)(t,{"extra-style":n,class:"ww-flexbox__object","ww-responsive":`wwobject-${e}`,"data-ww-flexbox-index":e,onClick:i.onElementClick}),null,16,["extra-style","ww-responsive","data-ww-flexbox-index","onClick"])])),_:3},16,["direction","disable-edit","tag","class"]))}const r={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content:effect","update:content","element-event"],setup(){const{hasLink:t,tag:e,properties:n}=wwLib.wwElement.useLink(),a=wwLib.wwElement.useBackgroundVideo();return{hasLink:t,properties:n,backgroundVideo:a,tag:e}},computed:{children(){return this.content.children&&Array.isArray(this.content.children)?this.content.children:[]},isFixed(){return this.wwElementState.props.isFixed},noDropzone(){return this.wwElementState.props.noDropzone},isEditing(){return!1}},methods:{onElementClick(t){let e=t.currentTarget.dataset.wwFlexboxIndex,n=parseInt(e);isNaN(n)&&(n=0),this.$emit("element-event",{type:"click",index:n})}}};var i=n(6262);const o=(0,i.A)(r,[["render",s],["__scopeId","data-v-70c6adf0"]]),c=o},4235:(t,e,n)=>{var a=n(6220),s=n(7613),r=n(1803),i=n(2256),o=n(641);const c={class:"chart-container",style:{position:"relative"}},l={ref:"chartjsLine"};function d(t,e,n,a,s,r){return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("canvas",l,null,512)])}var h=n(7572),u=n(9407),g=n(1563),p=n(1394),f=n(2370),y=n(1706),m=n(3329);function w(t,e,n){return(0,m.w)(n?.in||t,+(0,u.a)(t)+e)}function b(t,e,n){return w(t,1e3*e,n)}var I=n(1501);function v(t,e,n){const a=(0,u.a)(t,n?.in);return a.setTime(a.getTime()+e*I.Cg),a}function k(t,e,n){return w(t,e*I.s0,n)}var x=n(6172);function A(t,e,n){return(0,x.f)(t,7*e,n)}var C=n(6304);function F(t,e,n){return(0,C.P)(t,3*e,n)}var L=n(5413);function S(t,e){return+(0,u.a)(t)-+(0,u.a)(e)}function M(t){return e=>{const n=t?Math[t]:Math.trunc,a=n(e);return 0===a?0:a}}function E(t,e,n){const a=S(t,e)/1e3;return M(n?.roundingMethod)(a)}function T(t,e,n){const a=S(t,e)/I.Cg;return M(n?.roundingMethod)(a)}var j=n(5305);function P(t,e,n){const[a,s]=(0,j.x)(n?.in,t,e),r=(+a-+s)/I.s0;return M(n?.roundingMethod)(r)}var $=n(2831);function Y(t,e,n){const[a,s]=(0,j.x)(n?.in,t,e),r=z(a,s),i=Math.abs((0,$.m)(a,s));a.setDate(a.getDate()-r*i);const o=Number(z(a,s)===-r),c=r*(i-o);return 0===c?0:c}function z(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function X(t,e,n){const a=Y(t,e,n)/7;return M(n?.roundingMethod)(a)}function q(t,e){const n=+(0,u.a)(t)-+(0,u.a)(e);return n<0?-1:n>0?1:n}function D(t,e,n){const[a,s]=(0,j.x)(n?.in,t,e),r=a.getFullYear()-s.getFullYear(),i=a.getMonth()-s.getMonth();return 12*r+i}function O(t,e){const n=(0,u.a)(t,e?.in);return n.setHours(23,59,59,999),n}function W(t,e){const n=(0,u.a)(t,e?.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function B(t,e){const n=(0,u.a)(t,e?.in);return+O(n,e)===+W(n,e)}function H(t,e,n){const[a,s,r]=(0,j.x)(n?.in,t,t,e),i=q(s,r),o=Math.abs(D(s,r));if(o<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*o);let c=q(s,r)===-i;B(a)&&1===o&&1===q(a,r)&&(c=!1);const l=i*(o-+c);return 0===l?0:l}function R(t,e,n){const a=H(t,e,n)/3;return M(n?.roundingMethod)(a)}function V(t,e,n){const[a,s]=(0,j.x)(n?.in,t,e);return a.getFullYear()-s.getFullYear()}function N(t,e,n){const[a,s]=(0,j.x)(n?.in,t,e),r=q(a,s),i=Math.abs(V(a,s));a.setFullYear(1584),s.setFullYear(1584);const o=q(a,s)===-r,c=r*(i-+o);return 0===c?0:c}function G(t,e){const n=(0,u.a)(t,e?.in);return n.setMilliseconds(0),n}function U(t,e){const n=(0,u.a)(t,e?.in);return n.setSeconds(0,0),n}function Z(t,e){const n=(0,u.a)(t,e?.in);return n.setMinutes(0,0,0),n}var Q=n(6463),J=n(337);function K(t,e){const n=(0,u.a)(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function tt(t,e){const n=(0,u.a)(t,e?.in),a=n.getMonth(),s=a-a%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}var et=n(228);function nt(t,e){const n=(0,u.a)(t,e?.in);return n.setMilliseconds(999),n}function at(t,e){const n=(0,u.a)(t,e?.in);return n.setSeconds(59,999),n}function st(t,e){const n=(0,u.a)(t,e?.in);return n.setMinutes(59,59,999),n}var rt=n(4352);function it(t,e){const n=(0,u.a)(t,e?.in),a=n.getMonth(),s=a-a%3+3;return n.setMonth(s,0),n.setHours(23,59,59,999),n}function ot(t,e){const n=(0,u.a)(t,e?.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}const ct={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};h.ij._date.override({_id:"date-fns",formats:function(){return ct},parse:function(t,e){if(null===t||"undefined"===typeof t)return null;const n=typeof t;return"number"===n||t instanceof Date?t=(0,u.a)(t):"string"===n&&(t="string"===typeof e?(0,g.qg)(t,e,new Date,this.options):(0,p.H)(t,this.options)),(0,f.f)(t)?t.getTime():null},format:function(t,e){return(0,y.GP)(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return w(t,e);case"second":return b(t,e);case"minute":return v(t,e);case"hour":return k(t,e);case"day":return(0,x.f)(t,e);case"week":return A(t,e);case"month":return(0,C.P)(t,e);case"quarter":return F(t,e);case"year":return(0,L.e)(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return S(t,e);case"second":return E(t,e);case"minute":return T(t,e);case"hour":return P(t,e);case"day":return Y(t,e);case"week":return X(t,e);case"month":return H(t,e);case"quarter":return R(t,e);case"year":return N(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return G(t);case"minute":return U(t);case"hour":return Z(t);case"day":return(0,Q.o)(t);case"week":return(0,J.k)(t);case"isoWeek":return(0,J.k)(t,{weekStartsOn:+n});case"month":return K(t);case"quarter":return tt(t);case"year":return(0,et.D)(t);default:return t}},endOf:function(t,e){switch(e){case"second":return nt(t);case"minute":return at(t);case"hour":return st(t);case"day":return O(t);case"week":return(0,rt.$)(t);case"month":return W(t);case"quarter":return it(t);case"year":return ot(t);default:return t}}});var lt=n(3362);h.t1.register(...h.$L);const dt={props:{content:{type:Object,required:!0}},setup(){return{chartInstance:null}},computed:{options(){const t={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:this.content.isLegend,position:this.content.legendPosition,align:this.content.legendAlignement,labels:{usePointStyle:!0,color:wwLib.getStyleFromToken(this.content.legendColor)||this.content.legendColor,font:{size:parseInt(this.content.legendSize)}}}},elements:{line:{cubicInterpolationMode:this.content.cubicInterpolationMode}},scales:{x:{grid:{color:wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,borderColor:wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor},ticks:{color:wwLib.getStyleFromToken(this.content.labelColor)||this.content.labelColor,font:{size:parseInt(this.content.legendSize)}}},y:{grid:{color:wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,borderColor:wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor},ticks:{color:wwLib.getStyleFromToken(this.content.labelColor)||this.content.labelColor,font:{size:parseInt(this.content.legendSize)}},beginAtZero:this.content.startAtZero}}},e="object"===typeof this.content.options?this.content.options:t;return"advanced"===this.content.dataType?e:t},config(){let t=[],e=[];if("guided"===this.content.dataType){let n=(!this.content.data||Array.isArray(this.content.data)?this.content.data:this.content.data.data)||[];const a=this.content.yAxis;let s=this.content.dataXField,r=this.content.dataXFieldProperty,i="item-count"===a?this.content.dataXField:this.content.dataYField,o=this.content.dataYFieldProperty,c=this.content.groupBy,l=this.content.groupByProperty,d="item-count"===a?"item-count":this.content.aggregate;const h=this.content.colors.map((t=>wwLib.getStyleFromToken(t)||t));if("object"!==typeof n[0]&&(n=n.map((t=>({value:t}))),s="value",o=void 0,i="value",r=void 0,c=void 0,l=void 0,d="item-count"),c){const t=[...new Set(n.map((t=>{const e=_.get(t,c,[]);return Array.isArray(e)?e.map((t=>_.get(t,l,t))):e})).flat())],a=[...new Set(n.map((t=>{const e=_.get(t,s,[]);return Array.isArray(e)?e.map((t=>_.get(t,r,t))):e})).flat())];e=t.map(((t,e)=>({label:`${t}`.split("['").pop().replace("']",""),backgroundColor:h[e%h.length],borderColor:h[e%h.length],data:a.map((e=>({x:e,y:this.aggregate(d,n.filter((n=>{const a=_.get(n,s),i=_.get(n,c);return(Array.isArray(a)?a.map((t=>_.get(t,r,t))).includes(e):a===e)&&(Array.isArray(i)?i.map((t=>_.get(t,l,t))).includes(t):i===t)})).map((t=>{const e=_.get(t,i);return Array.isArray(e)?e.map((t=>_.get(t,o,t))):e})))})))})))}else if(e=[{label:`${i}`.split("['").pop().replace("']",""),backgroundColor:h[0],borderColor:h[0],data:[]}],n.length&&Array.isArray(_.get(n[0],s))){const t=[...new Set(n.map((t=>{const e=_.get(t,s,[]);return Array.isArray(e)?e.map((t=>_.get(t,r,t))):e})).flat())];e[0].data=t.map((t=>({x:t,y:this.aggregate(d,n.filter((e=>{let n=_.get(e,s,[]);return n=Array.isArray(n)?n.map((t=>_.get(t,r,t))):n,n.includes(t)})).map((t=>{const e=_.get(t,i,[]);return Array.isArray(e)?e.map((t=>_.get(t,o,t))):e})))})))}else e[0].data=n.map((t=>({x:_.get(t,s),y:this.aggregate(d,n.filter((e=>_.get(e,s)===_.get(t,s))).map((t=>_.get(t,i))))})));for(const t of e)t.data=t.data.filter(((e,n)=>t.data.findIndex((t=>e.x===t.x))===n));if(!1===this.content.dataXEmpty)for(const t of e)t.data=t.data.filter((t=>t.y&&t.x));if("default"!==this.content.dataOrderBy)for(const t of e)t.data.sort(((t,e)=>{const n=this.content.dataOrderBy;return("string"===typeof t[n]?t[n].localeCompare(e[n]):t[n]-e[n])*("DESC"===this.content.dataDirection?-1:1)})),t.data=t.data.map((t=>({x:`${t.x}`,y:t.y})));t=[...new Set(e.map((t=>t.data.map((t=>t.x)))).flat())]}else t=this.content.labels,e=this.content.datasets||[];return{type:"line",data:{labels:t,datasets:e},options:{onClick:t=>{const e=(0,lt.gP)(t,this.chartInstance),n=this.chartInstance.getElementsAtEventForMode(t,this.options?.interaction?.mode||"nearest",{intersect:this.options?.interaction?.intersect??!0},!0),a=this.chartInstance.scales.x.getValueForPixel(e.x),s=this.chartInstance.scales.y.getValueForPixel(e.y);this.$emit("trigger-event",{name:"chart:click",event:{dataX:a,dataY:s,position:e,points:n.map((t=>({datasetLabel:this.chartInstance.data.datasets[t.datasetIndex].label,label:this.chartInstance.data.labels[t.index],value:"object"===typeof this.chartInstance.data.datasets[t.datasetIndex].data[t.index]?this.chartInstance.data.datasets[t.datasetIndex].data[t.index]["y"]:this.chartInstance.data.datasets[t.datasetIndex].data[t.index],...t})))}})},...this.options}}}},watch:{"config.data.datasets"(){this.chartInstance.data.datasets=this.config.data.datasets,this.chartInstance&&this.chartInstance.destroy(),this.initChart(),this.chartInstance.update()},options:{deep:!0,handler(){this.chartInstance.data.datasets=this.config.data.datasets,this.chartInstance&&this.chartInstance.destroy(),this.initChart(),this.chartInstance.update()}},"config.data.labels"(){this.chartInstance.data.labels=this.config.data.labels,this.chartInstance.update()},"content.isLegend"(){this.chartInstance.options.plugins.legend.display=this.content.isLegend,this.chartInstance.update()},"content.legendPosition"(){this.chartInstance.options.plugins.legend.position=this.content.legendPosition,this.chartInstance.update()},"content.legendAlignement"(){this.chartInstance.options.plugins.legend.align=this.content.legendAlignement,this.chartInstance.update()},"content.legendColor"(){this.chartInstance.options.plugins.legend.labels.color=wwLib.getStyleFromToken(this.content.legendColor)||this.content.legendColor,this.chartInstance.update()},"content.labelColor"(){this.chartInstance.options.scales.x.ticks.color=wwLib.getStyleFromToken(this.content.labelColor)||this.content.labelColor,this.chartInstance.options.scales.y.ticks.color=wwLib.getStyleFromToken(this.content.labelColor)||this.content.labelColor,this.chartInstance.update()},"content.legendSize"(){this.chartInstance.options.plugins.legend.labels.font.size=parseInt(this.content.legendSize),this.chartInstance.options.scales.x.ticks.font.size=parseInt(this.content.legendSize),this.chartInstance.options.scales.y.ticks.font.size=parseInt(this.content.legendSize),this.chartInstance.update()},"content.gridColor"(){this.chartInstance.options.scales.x.grid.borderColor=wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,this.chartInstance.options.scales.x.grid.color=wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,this.chartInstance.options.scales.y.grid.borderColor=wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,this.chartInstance.options.scales.y.grid.color=wwLib.getStyleFromToken(this.content.gridColor)||this.content.gridColor,this.chartInstance.update()},"content.startAtZero"(){this.chartInstance&&this.chartInstance.destroy(),this.initChart()},"content.cubicInterpolationMode"(){this.chartInstance.options.elements.line.cubicInterpolationMode=this.content.cubicInterpolationMode,this.chartInstance.update()},"content.dataYField"(){this.$emit("update:content:effect",{dataYFieldProperty:null})},"content.dataYFieldProperty"(){const t=(!this.content.data||Array.isArray(this.content.data)?this.content.data:this.content.data.data)||[];let e=_.get(t[0],this.content.dataYField);const n=Array.isArray(e);Array.isArray(e)&&e.length&&(e=_.get(e[0],this.content.dataYFieldProperty,e[0]));const a=Number.isFinite(t[0]&&this.content.dataYField&&e);a&&this.$emit("update:content:effect",{aggregate:n?"sum":"value"})},"content.dataXField"(){this.$emit("update:content:effect",{dataXFieldProperty:null})},"content.groupBy"(){this.$emit("update:content:effect",{groupByProperty:null})}},mounted(){this.initChart()},beforeUnmount(){this.chartInstance.destroy()},methods:{initChart(){const t=this.$refs.chartjsLine;this.chartInstance=new h.t1(t,this.config)},aggregate(t,e){if(e)switch(t){case"item-count":return[e].flat().length;case"distinct":return[...new Set([e].flat())].length;case"value":return[e].flat()[0];case"sum":return this.sum([e].flat());case"average":return this.average([e].flat());case"median":return this.median([e].flat());case"min":return Math.min(...[e].flat());case"max":return Math.max(...[e].flat())}},median(t){const e=Math.floor(t.length/2),n=[...t].sort(((t,e)=>t-e));return t.length%2!==0?n[e]:(n[e-1]+n[e])/2},sum(t){return t.reduce(((t,e)=>t+e),0)},average(t){return t.reduce(((t,e)=>t+e),0)/t.length}}};var ht=n(6262);const ut=(0,ht.A)(dt,[["render",d]]),gt=ut;var pt=n(2706),ft=n(7330);const yt={class:"chart-container",style:{position:"relative"}};function mt(t,e,n,a,s,r){return(0,o.uX)(),(0,o.CE)("div",yt,e[0]||(e[0]=[(0,o.Lk)("canvas",{class:"chartjs-pie"},null,-1)]))}h.t1.register(...h.$L);const wt={props:{content:{type:Object,required:!0}},data(){return this.chartInstance=null,this.chartInstance},computed:{options(){const t={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:this.content.isLegend,position:this.content.legendPosition,align:this.content.legendAlignement,labels:{usePointStyle:!0,color:wwLib.getStyleFromToken(this.content.legendColor)||this.content.legendColor,font:{size:parseInt(this.content.legendSize)}}}}},e="object"===typeof this.content.options?this.content.options:t;return"advanced"===this.content.dataType?e:t},config(){let t=[],e=[];if("guided"===this.content.dataType){let n=wwLib.wwCollection.getCollectionData(this.content.data)||[];n=Array.isArray(n)?n:[];const a=this.content.yAxis;let s=this.content.dataXField,r=this.content.dataXFieldProperty,i="item-count"===a?this.content.dataXField:this.content.dataYField,o=this.content.dataYFieldProperty,c="item-count"===a?"item-count":this.content.aggregate;const l=Array.isArray(this.content.colors)?this.content.colors.map((t=>wwLib.getStyleFromToken(t)||t)):[];if("object"!==typeof n[0]&&(n=n.map((t=>({value:t}))),s="value",o=void 0,i="value",r=void 0,c="item-count"),e=[{label:`${s}`.split("['").pop().replace("']",""),backgroundColor:l,data:[]}],n.length&&Array.isArray(_.get(n[0],s))){const t=[...new Set(n.map((t=>{const e=_.get(t,s,[]);return Array.isArray(e)?e.map((t=>_.get(t,r,t))):e})).flat())];e[0].data=t.map((t=>({x:t,y:this.aggregate(c,n.filter((e=>{let n=_.get(e,s,[]);return n=Array.isArray(n)?n.map((t=>_.get(t,r,t))):n,n.includes(t)})).map((t=>{const e=_.get(t,i,[]);return Array.isArray(e)?e.map((t=>_.get(t,o,t))):e})))})))}else e[0].data=n.map((t=>({x:_.get(t,s),y:this.aggregate(c,n.filter((e=>_.get(e,s)===_.get(t,s))).map((t=>_.get(t,i))))})));for(const t of e)t.data=t.data.filter(((e,n)=>t.data.findIndex((t=>e.x===t.x))===n));if("default"!==this.content.dataOrderBy)for(const t of e)t.data.sort(((t,e)=>{const n=this.content.dataOrderBy;return("string"===typeof t[n]?t[n].localeCompare(e[n]):t[n]-e[n])*("DESC"===this.content.dataDirection?-1:1)})),t.data=t.data.map((t=>({x:`${t.x}`,y:t.y})));if(!1===this.content.dataXEmpty)for(const t of e)t.data=t.data.filter((t=>t.x&&t.y));t=[...new Set(e.map((t=>t.data.map((t=>t.x)))).flat())];for(const t of e)t.data=t.data.map((t=>t.y))}else t=this.content.labels,e=this.content.datasets||[];return{type:this.content.displayType,data:{labels:t,datasets:e},options:{...this.options,onClick:t=>{const e=(0,lt.gP)(t,this.chartInstance),n=this.chartInstance.getElementsAtEventForMode(t,this.options?.interaction?.mode||"nearest",{intersect:this.options?.interaction?.intersect??!0},!0);this.$emit("trigger-event",{name:"chart:click",event:{position:e,points:n.map((t=>({datasetLabel:this.chartInstance.data.datasets[t.datasetIndex].label,label:this.chartInstance.data.labels[t.index],value:"object"===typeof this.chartInstance.data.datasets[t.datasetIndex].data[t.index]?this.chartInstance.data.datasets[t.datasetIndex].data[t.index]["y"]:this.chartInstance.data.datasets[t.datasetIndex].data[t.index],...t})))}})}}}}},watch:{"config.data.datasets"(){this.chartInstance.data.datasets=this.config.data.datasets,this.chartInstance&&this.chartInstance.destroy(),this.initChart(),this.chartInstance.update()},options:{deep:!0,handler(){this.chartInstance.data.datasets=this.config.data.datasets,this.chartInstance&&this.chartInstance.destroy(),this.initChart(),this.chartInstance.update()}},"config.data.labels"(){this.chartInstance.data.labels=this.config.data.labels,this.chartInstance.update()},"content.displayType"(){this.chartInstance&&this.chartInstance.destroy(),this.initChart()},"content.isLegend"(){this.chartInstance.options.plugins.legend.display=this.content.isLegend,this.chartInstance.update()},"content.legendPosition"(){this.chartInstance.options.plugins.legend.position=this.content.legendPosition,this.chartInstance.update()},"content.legendAlignement"(){this.chartInstance.options.plugins.legend.align=this.content.legendAlignement,this.chartInstance.update()},"content.legendColor"(){this.chartInstance.options.plugins.legend.labels.color=wwLib.getStyleFromToken(this.content.legendColor)||this.content.legendColor,this.chartInstance.update()},"content.legendSize"(){this.chartInstance.options.plugins.legend.labels.font.size=parseInt(this.content.legendSize),this.chartInstance.update()},"content.dataYField"(){this.$emit("update:content:effect",{dataYFieldProperty:null})},"content.dataYFieldProperty"(){const t=(!this.content.data||Array.isArray(this.content.data)?this.content.data:this.content.data.data)||[];let e=_.get(t[0],this.content.dataYField);const n=Array.isArray(e);Array.isArray(e)&&e.length&&(e=_.get(e[0],this.content.dataYFieldProperty,e[0]));const a=Number.isFinite(t[0]&&this.content.dataYField&&e);a&&this.$emit("update:content:effect",{aggregate:n?"sum":"value"})},"content.dataXField"(){this.$emit("update:content:effect",{dataXFieldProperty:null})},"content.groupBy"(){this.$emit("update:content:effect",{groupByProperty:null})}},mounted(){this.initChart()},beforeUnmount(){this.chartInstance.destroy()},methods:{initChart(){const t=this.$el.querySelector(".chartjs-pie");this.chartInstance=new h.t1(t,this.config)},aggregate(t,e){if(e)switch(t){case"item-count":return[e].flat().length;case"distinct":return[...new Set([e].flat())].length;case"value":return[e].flat()[0];case"sum":return this.sum([e].flat());case"average":return this.average([e].flat());case"median":return this.median([e].flat());case"min":return Math.min(...[e].flat());case"max":return Math.max(...[e].flat())}},median(t){const e=Math.floor(t.length/2),n=[...t].sort(((t,e)=>t-e));return t.length%2!==0?n[e]:(n[e-1]+n[e])/2},sum(t){return t.reduce(((t,e)=>t+e),0)},average(t){return t.reduce(((t,e)=>t+e),0)/t.length}}},bt=(0,ht.A)(wt,[["render",mt],["__scopeId","data-v-43ade852"]]),It=bt;var vt=n(1236);a.A.component("wwobject-3a7d6379-12d3-4387-98ff-b332bb492a63",s.A),a.A.component("wwobject-6f8796b1-8273-498d-95fc-7013b7c63214",r.A),a.A.component("wwobject-83d890fb-84f9-4386-b459-fb4be89a8e15",i.A),a.A.component("wwobject-8aaf3651-1351-4aea-8b38-5d10ebc7fb69",gt),a.A.component("wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1",pt.A),a.A.component("wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad",ft.A),a.A.component("wwobject-e1e0ffa9-23af-471f-ac5a-6b49f508c653",It),a.A.component("section-99586bd3-2b15-4d6b-a025-6a50d07ca845",vt.A)},7330:(t,e,n)=>{n.d(e,{A:()=>c});var a=n(641);function s(t,e,n,s,r,i){const o=(0,a.g2)("wwText");return(0,a.uX)(),(0,a.Wv)(o,(0,a.v6)({tag:i.tag,text:i.text},s.properties,{class:{"-link":s.hasLink&&!i.isEditing}}),null,16,["tag","text","class"])}const r={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update-content","update:content:effect"],setup(){const{hasLink:t,tag:e,properties:n}=wwLib.wwElement.useLink();return{hasLink:t,linkTag:e,properties:n}},computed:{tag(){return this.hasLink?this.linkTag:this.content.tag},text(){return this.wwElementState.props.text},isEditing(){return!1}},methods:{}};var i=n(6262);const o=(0,i.A)(r,[["render",s],["__scopeId","data-v-0b6a1aa0"]]),c=o},7613:(t,e,n)=>{n.d(e,{A:()=>l});var a=n(641);const s=["src","alt"];function r(t,e,n,r,i,o){return(0,a.uX)(),(0,a.Wv)((0,a.$y)(r.linkTag),(0,a.v6)(r.properties,{class:["ww-image-basic",{"-link":r.hasLink&&!o.isEditing}],"ww-responsive":"ww-image-basic",style:o.style}),{default:(0,a.k6)((()=>[e[0]||(e[0]=(0,a.Lk)("div",{class:"ww-image-basic-overlay"},null,-1)),(0,a.Lk)("img",(0,a.v6)({src:o.src,alt:o.alt},{loading:n.content.loading||"lazy"}),null,16,s)])),_:1},16,["style","class"])}const i={inject:{componentStyle:{default:()=>{}}},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content"],setup(){const{hasLink:t,tag:e,properties:n}=wwLib.wwElement.useLink();return{hasLink:t,linkTag:e,properties:n}},computed:{url(){const t=this.wwElementState.props.url||this.content.url||"";return"string"===typeof t?t:""},isWeWeb(){return this.url.startsWith("designs/")},src(){return this.isWeWeb?`${wwLib.wwUtils.getCdnPrefix()}${this.url}`:this.url},aspectRatio(){const t=this.componentStyle.aspectRatio;return t&&"unset"!==t?`${t}`:"unset"},style(){return{"--wwi-ar":this.aspectRatio,"--wwi-of":this.content.objectFit,"--wwi-f":this.content.filter,"--wwi-o":this.content.overlay}},isEditing(){return!1},alt(){return wwLib.wwLang.getText(this.content.alt)}}};var o=n(6262);const c=(0,o.A)(i,[["render",r],["__scopeId","data-v-cd35d47c"]]),l=c}}]);